<owner-navbar></owner-navbar>

<div class="container" ng-init="init()">
  <div class="page-header">
    <h1>Business Analytics <small>Owner Dashboard</small></h1>
  </div>

  <!-- Loading indicator -->
  <div class="text-center" ng-show="isLoading">
    <uib-progress>
      <uib-bar value="100" type="primary">
        <i class="fa fa-spinner fa-spin"></i> Loading analytics data...
      </uib-bar>
    </uib-progress>
  </div>

  <!-- Analytics content - only shown when not loading -->
  <div ng-hide="isLoading">
    <!-- Revenue Section -->
    <uib-accordion>
      <div uib-accordion-group class="panel-primary" is-open="true">
        <uib-accordion-heading>
          <i class="fa fa-money"></i> Revenue Analytics
          <i class="pull-right fa fa-chevron-down"></i>
        </uib-accordion-heading>
        
        <div class="row">
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Earnings per City</h3>
              </div>
              <div class="panel-body">
                <canvas id="earningPerCity"></canvas>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Earnings per Car Category</h3>
              </div>
              <div class="panel-body">
                <canvas id="earningPerCarCategory"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </uib-accordion>

    <!-- Distance Section -->
    <uib-accordion>
      <div uib-accordion-group class="panel-info">
        <uib-accordion-heading>
          <i class="fa fa-road"></i> Distance Analytics
          <i class="pull-right fa fa-chevron-right"></i>
        </uib-accordion-heading>
        
        <div class="row">
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Distance Traveled per Car Category</h3>
              </div>
              <div class="panel-body">
                <canvas id="travelPerCarCategory"></canvas>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Distance Traveled per City</h3>
              </div>
              <div class="panel-body">
                <canvas id="travelPerCity"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </uib-accordion>

    <!-- Performance Section -->
    <uib-accordion>
      <div uib-accordion-group class="panel-success">
        <uib-accordion-heading>
          <i class="fa fa-bar-chart"></i> Performance Analytics
          <i class="pull-right fa fa-chevron-right"></i>
        </uib-accordion-heading>
        
        <div class="row">
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Highest Traveled Car Category per City</h3>
              </div>
              <div class="panel-body">
                <canvas id="highestTravelledCategoryPerCity"></canvas>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Highest Earning Car Category per City</h3>
              </div>
              <div class="panel-body">
                <canvas id="highestBidCategoryPerCity"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </uib-accordion>
  </div>
</div>